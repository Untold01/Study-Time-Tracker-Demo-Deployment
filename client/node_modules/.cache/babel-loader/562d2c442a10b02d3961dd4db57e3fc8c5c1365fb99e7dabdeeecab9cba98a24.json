{"ast":null,"code":"var _jsxFileName = \"U:\\\\Study time traccker deployement\\\\client\\\\src\\\\pages\\\\Reports.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, PointElement, LineElement } from 'chart.js';\nimport { Bar, Line } from 'react-chartjs-2';\nimport { useAuth } from '../AuthContext';\nimport { api } from '../api';\n\n// Implementing Chart.js components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, LineElement, PointElement);\nexport default function Reports() {\n  _s();\n  const {\n    token\n  } = useAuth();\n  const [subjectData, setSubjectData] = useState(null);\n  const [trendData, setTrendData] = useState(null);\n  useEffect(() => {\n    async function loadReportData() {\n      try {\n        // Fetching data for the \"Time per Subject\" chart\n        const subjects = await api(\"/api/stats/time-per-subject\", {\n          token\n        });\n        setSubjectData({\n          labels: subjects.map(s => s.name),\n          datasets: [{\n            label: 'Minutes Studied',\n            data: subjects.map(s => s.totalMinutes),\n            backgroundColor: subjects.map(s => s.color)\n          }]\n        });\n\n        // Fetching data for the \"Study Trend\" chart\n        const trend = await api(\"/api/stats/study-trend\", {\n          token\n        });\n        const trendLabels = trend.map(t => t.date);\n        const trendValues = trend.map(t => (t.totalMinutes / 60).toFixed(2));\n        setTrendData({\n          labels: trendLabels,\n          datasets: [{\n            label: 'Hours Studied',\n            data: trendValues,\n            borderColor: '#818cf8',\n            backgroundColor: '#c7d2fe',\n            fill: false,\n            tension: 0.1\n          }]\n        });\n      } catch (err) {\n        console.error(\"Failed to load report data\", err);\n      }\n    }\n    loadReportData();\n  }, []);\n\n  // Common options for both charts\n\n  const options = {\n    responsive: true,\n    plugins: {\n      legend: {\n        display: false\n      }\n    },\n    scales: {\n      x: {\n        ticks: {\n          color: '#94a3b8'\n        },\n        grid: {\n          color: '#1f2937'\n        }\n      },\n      y: {\n        ticks: {\n          color: '#94a3b8'\n        },\n        grid: {\n          color: '#1f2937'\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"title\",\n        children: \"Time per Subject (minutes)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), subjectData ? /*#__PURE__*/_jsxDEV(Bar, {\n        options: options,\n        data: subjectData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 24\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"muted\",\n        children: \"Loading chart data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 71\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spacer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"title\",\n        children: \"Study Trend (last 7 days in hours)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), trendData ? /*#__PURE__*/_jsxDEV(Line, {\n        options: options,\n        data: trendData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 22\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"muted\",\n        children: \"Loading chart data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 68\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(Reports, \"HME828GMNNMSVo/0ZouUp5HhAGU=\", false, function () {\n  return [useAuth];\n});\n_c = Reports;\nvar _c;\n$RefreshReg$(_c, \"Reports\");","map":{"version":3,"names":["React","useEffect","useState","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","PointElement","LineElement","Bar","Line","useAuth","api","jsxDEV","_jsxDEV","register","Reports","_s","token","subjectData","setSubjectData","trendData","setTrendData","loadReportData","subjects","labels","map","s","name","datasets","label","data","totalMinutes","backgroundColor","color","trend","trendLabels","t","date","trendValues","toFixed","borderColor","fill","tension","err","console","error","options","responsive","plugins","legend","display","scales","x","ticks","grid","y","children","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["U:/Study time traccker deployement/client/src/pages/Reports.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, PointElement, LineElement } from 'chart.js';\r\nimport { Bar, Line } from 'react-chartjs-2';\r\nimport { useAuth } from '../AuthContext';\r\nimport { api } from '../api';\r\n\r\n// Implementing Chart.js components\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend, LineElement, PointElement);\r\n\r\nexport default function Reports() {\r\n  const { token } = useAuth();\r\n  const [subjectData, setSubjectData] = useState(null);\r\n  const [trendData, setTrendData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function loadReportData() {\r\n      try {\r\n        // Fetching data for the \"Time per Subject\" chart\r\n        const subjects = await api(\"/api/stats/time-per-subject\", { token });\r\n        setSubjectData({\r\n          labels: subjects.map(s => s.name),\r\n          datasets: [{\r\n            label: 'Minutes Studied',\r\n            data: subjects.map(s => s.totalMinutes),\r\n            backgroundColor: subjects.map(s => s.color),\r\n          }],\r\n        });\r\n\r\n        // Fetching data for the \"Study Trend\" chart\r\n        const trend = await api(\"/api/stats/study-trend\", { token });\r\n        const trendLabels = trend.map(t => t.date);\r\n        const trendValues = trend.map(t => (t.totalMinutes / 60).toFixed(2));\r\n        setTrendData({\r\n          labels: trendLabels,\r\n          datasets: [{\r\n            label: 'Hours Studied',\r\n            data: trendValues,\r\n            borderColor: '#818cf8',\r\n            backgroundColor: '#c7d2fe',\r\n            fill: false,\r\n            tension: 0.1,\r\n          }],\r\n        });\r\n      } catch (err) {\r\n        console.error(\"Failed to load report data\", err);\r\n      }\r\n    }\r\n    loadReportData();\r\n  }, []);\r\n\r\n  // Common options for both charts\r\n  \r\n  const options = {\r\n    responsive: true,\r\n    plugins: { legend: { display: false } },\r\n    scales: { \r\n      x: { ticks: { color: '#94a3b8' }, grid: { color: '#1f2937' } },\r\n      y: { ticks: { color: '#94a3b8' }, grid: { color: '#1f2937' } }\r\n    },\r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <div className=\"card\">\r\n        <h3 className=\"title\">Time per Subject (minutes)</h3>\r\n        {subjectData ? <Bar options={options} data={subjectData} /> : <p className=\"muted\">Loading chart data...</p>}\r\n      </div>\r\n      <div className=\"spacer\"></div>\r\n      <div className=\"card\">\r\n        <h3 className=\"title\">Study Trend (last 7 days in hours)</h3>\r\n        {trendData ? <Line options={options} data={trendData} /> : <p className=\"muted\">Loading chart data...</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,KAAK,IAAIC,OAAO,EAAEC,aAAa,EAAEC,WAAW,EAAEC,UAAU,EAAEC,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEC,YAAY,EAAEC,WAAW,QAAQ,UAAU;AACtI,SAASC,GAAG,EAAEC,IAAI,QAAQ,iBAAiB;AAC3C,SAASC,OAAO,QAAQ,gBAAgB;AACxC,SAASC,GAAG,QAAQ,QAAQ;;AAE5B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACAd,OAAO,CAACe,QAAQ,CAACd,aAAa,EAAEC,WAAW,EAAEC,UAAU,EAAEC,KAAK,EAAEC,OAAO,EAAEC,MAAM,EAAEE,WAAW,EAAED,YAAY,CAAC;AAE3G,eAAe,SAASS,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAM;IAAEC;EAAM,CAAC,GAAGP,OAAO,CAAC,CAAC;EAC3B,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACuB,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EAEhDD,SAAS,CAAC,MAAM;IACd,eAAe0B,cAAcA,CAAA,EAAG;MAC9B,IAAI;QACF;QACA,MAAMC,QAAQ,GAAG,MAAMZ,GAAG,CAAC,6BAA6B,EAAE;UAAEM;QAAM,CAAC,CAAC;QACpEE,cAAc,CAAC;UACbK,MAAM,EAAED,QAAQ,CAACE,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC;UACjCC,QAAQ,EAAE,CAAC;YACTC,KAAK,EAAE,iBAAiB;YACxBC,IAAI,EAAEP,QAAQ,CAACE,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACK,YAAY,CAAC;YACvCC,eAAe,EAAET,QAAQ,CAACE,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACO,KAAK;UAC5C,CAAC;QACH,CAAC,CAAC;;QAEF;QACA,MAAMC,KAAK,GAAG,MAAMvB,GAAG,CAAC,wBAAwB,EAAE;UAAEM;QAAM,CAAC,CAAC;QAC5D,MAAMkB,WAAW,GAAGD,KAAK,CAACT,GAAG,CAACW,CAAC,IAAIA,CAAC,CAACC,IAAI,CAAC;QAC1C,MAAMC,WAAW,GAAGJ,KAAK,CAACT,GAAG,CAACW,CAAC,IAAI,CAACA,CAAC,CAACL,YAAY,GAAG,EAAE,EAAEQ,OAAO,CAAC,CAAC,CAAC,CAAC;QACpElB,YAAY,CAAC;UACXG,MAAM,EAAEW,WAAW;UACnBP,QAAQ,EAAE,CAAC;YACTC,KAAK,EAAE,eAAe;YACtBC,IAAI,EAAEQ,WAAW;YACjBE,WAAW,EAAE,SAAS;YACtBR,eAAe,EAAE,SAAS;YAC1BS,IAAI,EAAE,KAAK;YACXC,OAAO,EAAE;UACX,CAAC;QACH,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,GAAG,CAAC;MAClD;IACF;IACArB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;;EAEN;;EAEA,MAAMwB,OAAO,GAAG;IACdC,UAAU,EAAE,IAAI;IAChBC,OAAO,EAAE;MAAEC,MAAM,EAAE;QAAEC,OAAO,EAAE;MAAM;IAAE,CAAC;IACvCC,MAAM,EAAE;MACNC,CAAC,EAAE;QAAEC,KAAK,EAAE;UAAEpB,KAAK,EAAE;QAAU,CAAC;QAAEqB,IAAI,EAAE;UAAErB,KAAK,EAAE;QAAU;MAAE,CAAC;MAC9DsB,CAAC,EAAE;QAAEF,KAAK,EAAE;UAAEpB,KAAK,EAAE;QAAU,CAAC;QAAEqB,IAAI,EAAE;UAAErB,KAAK,EAAE;QAAU;MAAE;IAC/D;EACF,CAAC;EAGD,oBACEpB,OAAA;IAAA2C,QAAA,gBACE3C,OAAA;MAAK4C,SAAS,EAAC,MAAM;MAAAD,QAAA,gBACnB3C,OAAA;QAAI4C,SAAS,EAAC,OAAO;QAAAD,QAAA,EAAC;MAA0B;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACpD3C,WAAW,gBAAGL,OAAA,CAACL,GAAG;QAACsC,OAAO,EAAEA,OAAQ;QAAChB,IAAI,EAAEZ;MAAY;QAAAwC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAAGhD,OAAA;QAAG4C,SAAS,EAAC,OAAO;QAAAD,QAAA,EAAC;MAAqB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzG,CAAC,eACNhD,OAAA;MAAK4C,SAAS,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAC9BhD,OAAA;MAAK4C,SAAS,EAAC,MAAM;MAAAD,QAAA,gBACnB3C,OAAA;QAAI4C,SAAS,EAAC,OAAO;QAAAD,QAAA,EAAC;MAAkC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC5DzC,SAAS,gBAAGP,OAAA,CAACJ,IAAI;QAACqC,OAAO,EAAEA,OAAQ;QAAChB,IAAI,EAAEV;MAAU;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,gBAAGhD,OAAA;QAAG4C,SAAS,EAAC,OAAO;QAAAD,QAAA,EAAC;MAAqB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC7C,EAAA,CAlEuBD,OAAO;EAAA,QACXL,OAAO;AAAA;AAAAoD,EAAA,GADH/C,OAAO;AAAA,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}