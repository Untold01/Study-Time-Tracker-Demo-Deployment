{"ast":null,"code":"const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:4000\";\nexport async function api(path, {\n  method = \"GET\",\n  token,\n  body\n} = {}) {\n  const res = await fetch(`${API_URL}${path}`, {\n    method,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(token ? {\n        Authorization: `Bearer ${token}`\n      } : {})\n    },\n    body: body ? JSON.stringify(body) : undefined\n  });\n  if (!res.ok) {\n    let msg = \"Request failed\";\n    try {\n      const j = await res.json();\n      msg = j.error || JSON.stringify(j);\n    } catch {}\n    throw new Error(msg);\n  }\n  return res.json();\n}","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","api","path","method","token","body","res","fetch","headers","Authorization","JSON","stringify","undefined","ok","msg","j","json","error","Error"],"sources":["U:/study-time-tracker (2)/study-time-tracker/client/src/api.js"],"sourcesContent":["const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:4000\";\n\nexport async function api(path, { method = \"GET\", token, body } = {}) {\n  const res = await fetch(`${API_URL}${path}`, {\n    method,\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\n    },\n    body: body ? JSON.stringify(body) : undefined,\n  });\n  if (!res.ok) {\n    let msg = \"Request failed\";\n    try { const j = await res.json(); msg = j.error || JSON.stringify(j); } catch {}\n    throw new Error(msg);\n  }\n  return res.json();\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAExE,OAAO,eAAeC,GAAGA,CAACC,IAAI,EAAE;EAAEC,MAAM,GAAG,KAAK;EAAEC,KAAK;EAAEC;AAAK,CAAC,GAAG,CAAC,CAAC,EAAE;EACpE,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGV,OAAO,GAAGK,IAAI,EAAE,EAAE;IAC3CC,MAAM;IACNK,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClC,IAAIJ,KAAK,GAAG;QAAEK,aAAa,EAAE,UAAUL,KAAK;MAAG,CAAC,GAAG,CAAC,CAAC;IACvD,CAAC;IACDC,IAAI,EAAEA,IAAI,GAAGK,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC,GAAGO;EACtC,CAAC,CAAC;EACF,IAAI,CAACN,GAAG,CAACO,EAAE,EAAE;IACX,IAAIC,GAAG,GAAG,gBAAgB;IAC1B,IAAI;MAAE,MAAMC,CAAC,GAAG,MAAMT,GAAG,CAACU,IAAI,CAAC,CAAC;MAAEF,GAAG,GAAGC,CAAC,CAACE,KAAK,IAAIP,IAAI,CAACC,SAAS,CAACI,CAAC,CAAC;IAAE,CAAC,CAAC,MAAM,CAAC;IAC/E,MAAM,IAAIG,KAAK,CAACJ,GAAG,CAAC;EACtB;EACA,OAAOR,GAAG,CAACU,IAAI,CAAC,CAAC;AACnB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}